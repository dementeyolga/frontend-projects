var C=Object.defineProperty;var Q=(s,e,n)=>e in s?C(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n;var d=(s,e,n)=>(Q(s,typeof e!="symbol"?e+"":e,n),n);import{B as g}from"./index-DPcE-bz1.js";import{H as W,h as _,p as f,l as w,t as T,n as l,o as t,q as b}from"./asyncRaceApi-DKtDc7ni.js";const N="_winnersQuantity_1ulc3_1",x="_table_1ulc3_9",S="_row_1ulc3_13",r={winnersQuantity:N,table:x,row:S};class u extends g{constructor(){super({tagName:"div",className:"page"},new W,_("h1","Winners"));d(this,"winnersQuantityComp");this.winnersQuantityComp=f("",r.winnersQuantity),this.addChildrenComponents("end",this.winnersQuantityComp),this.updateWinnersQuantity(),this.displayWinners()}async displayWinners(){const n=await w(),a=T("");n&&(a.addChildrenComponents("end",l(r.row,t("No"),t("Name"),t("ID"),t("Time"),t("Wins"))),n.forEach(async(m,p)=>{const{id:o,time:y,wins:h}=m,i=await b(o);let c;i&&i.name&&(c=i.name),a.addChildrenComponents("end",l(r.row,t(String(p+1)),t(c||""),t(String(o)),t(`${y} sec`),t(String(h))))})),this.addChildrenComponents("end",a)}async updateWinnersQuantity(){const n=await u.getTotalWinnersQuantity();this.winnersQuantityComp.setTextContent(`Total winners: ${n}`)}static async getTotalWinnersQuantity(){const n=await w();return n?n.length:0}}export{u as default};
